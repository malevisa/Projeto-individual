<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS/cadastro.css">
    <link rel="stylesheet" href="CSS/header.css">
    <link rel="stylesheet" href="CSS/footer.css">
    <title>Document</title>
</head>
<body>
    <!-- cabeçalho -->
    <div class="header">
        <img src="img/guitar.png" class="logo" alt="logo">
        <nav>
            <ul class="nav_links">
                <li><a href="index.html">Home</a></li>
                <li><a href="sobre.html">Sobre</a></li>
                <li><a href="cadastro.html">Cadastro</a></li>
                <li><a href="login.html">Login</a></li>
            </ul>
        </nav>
    </div>
    <!-- fim cabeçalho -->
    <!-- Cadastro -->
    <div class="pag-cadastro">
        <img class="retangulo-esquerda" src="img/retangulo-esquerdo.png">
        <img class="retangulo-direita" src="img/retangulo-direito.png">
        <div class="box-cadastro">
            <h1>Faça aqui seu cadastro!</h1>
            <form id="form_cadastro" onsubmit="return cadastrar()">
                Nome e sobrenome
                <br>
                <input type="text" autocomplete="off" name="usuario" id="idNome" placeholder="Nome e Sobrenome" class="input-padrao" onkeyup="ipt_nome()">
                <br>
                <br>
                Email
                <br>
                <input type="text" autocomplete="off" id="idEmail" name="email" placeholder="Email" class="input-padrao" onkeyup="ipt_email()">
                <br>
                <br>
                Senha
                <br>
                <input type="password" autocomplete="off" id="idSenha" name="senha" placeholder="Senha" class="input-padrao" onkeyup="ipt_senha()">
                <br>
                <br>
                Instrumento
                <br>
                <select name="instrumento">
                    <option value="">Selecione um instrumento</option>
                    <option value="guitarra">Guitarra</option>
                    <option value="violão">Violão</option>
                    <option value="teclado">Teclado</option>
                    <option value="ukulele">Ukulele</option>
                    <option value="baixo">Contra-Baixo</option>
                </select>
                <br>
                <br>
                <div id="div_msg"></div>
                <button class="botão" type="submit">Cadastrar</button>
            </form>
            <img class="imagem" src="img/print-dashboard.png" alt="">
        </div>
    </div>
    <!-- Cadastro -->
    <!-- Footer -->
    <div class="footer">
        <div class="container">
            <div class="sec aboutus">
                <h2>About Us</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. 
                    Fugit, accusamus unde quia aut ratione aspernatur pariatur 
                    adipisci sequi nihil debitis libero hic ut assumenda! Perspiciatis 
                    excepturi accusamus omnis? Quo, corrupti?</p>
                <ul class="sci">
                    <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                    <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                    <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></i></a></li>
                    <li><a href="#"><i class="fa fa-youtube-play" aria-hidden="true"></i></a></li>
                </ul>
            </div>
            <div class="sec quickLinks">
                <h2>Quick Links</h2>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="">Sobre</a></li>
                    <li><a href="login.html">Login</a></li>
                    <li><a href="cadastro.html">Cadastro</a></li>
                </ul>
            </div>
            <div class="sec contact">
                <h2>Contact Info</h2>
                <ul class="info">
                    <li>
                        <span><i class="fa fa-map-marker" aria-hidden="true"></i></span>
                        <span>Rua dos Loucos, 0</span>
                    </li>
                    <li>
                        <span><i class="fa fa-phone-square" aria-hidden="true"></i></span>
                        <p><a href="tel:123456789">+1 234 567 8900</a><br>
                            <a href="tel:123456789">+1 234 567 8900</a></p>
                    </li>
                    <li>
                        <span><i class="fa fa-envelope" aria-hidden="true"></i></span>
                        <p><a href="mailto:matheuslvs2003@gmail.com">matheuslvs2003@gmail.com</a></p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="copyrightText">
        <p>Muito orgulho do meu projeto individual</p>
    </div>
    <!-- Footer -->
</body>
</html>
<script>

    function cadastrar() {
        var formulario = new URLSearchParams(new FormData(form_cadastro));
        fetch("/usuarios/cadastrar", {
            method: "POST",
            body: formulario
        }).then(function (response) {
            
            if (response.ok) {
  
                window.location.href='login.html';
  
            } else {
  
                console.log('Erro de cadastro!');
                response.text().then(function (resposta) {
                    div_erro.innerHTML = resposta;
                });
            }
        });
  
        return false;
    }

    function ipt_nome(){
        idNome.style.borderColor = '#00959C'
    }

    function ipt_email(){
        var nome_email = idEmail.value;

        if(nome_email.indexOf('@') && nome_email.indexOf('.') > -1){
            div_msg.innerHTML = '';
            idEmail.style.borderColor = '#00959C'
            
        } else {
            div_msg.innerHTML = '<span style="color: red; font-size: 15px;">Email incorreto!</span>';
            idEmail.style.borderColor = 'red';
        }
    }

    function ipt_senha(){
        var senhas = idSenha.value;

        if(senhas.length > 8){
            div_msg.innerHTML = '';
            idSenha.style.borderColor = '#00959C';
            
        } else {
            div_msg.innerHTML = '<span style="color: red; font-size: 15px;">Minimo de 8 caracteres</span>';
            idSenha.style.borderColor = 'red';
        }
    }
  
  </script>